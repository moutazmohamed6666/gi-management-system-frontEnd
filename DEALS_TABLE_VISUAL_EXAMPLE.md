# Deals Table Visual Example

## Updated Table Layout

Here's what the updated deals table will look like with the new columns:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Deal ID  â”‚ Property        â”‚ Buyer        â”‚ Seller       â”‚ Agent        â”‚ Price        â”‚ Commission  â”‚ Agent Commission             â”‚ Status       â”‚ Actions â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ D027     â”‚ Luxury Apts     â”‚ omar shahin  â”‚ Elsayed      â”‚ Agent User   â”‚ AED          â”‚ AED 37,500  â”‚ Main: AED 10,000             â”‚ Submitted    â”‚ [View]  â”‚
â”‚          â”‚ ABC Developers  â”‚              â”‚ Elagalad     â”‚              â”‚ 1,250,000    â”‚             â”‚ [Expected]                   â”‚              â”‚         â”‚
â”‚          â”‚                 â”‚              â”‚              â”‚              â”‚              â”‚             â”‚ +2 additional agents         â”‚              â”‚         â”‚
â”‚          â”‚                 â”‚              â”‚              â”‚              â”‚              â”‚             â”‚ â€¢ Jane Agent: 30% (Internal) â”‚              â”‚         â”‚
â”‚          â”‚                 â”‚              â”‚              â”‚              â”‚              â”‚             â”‚ â€¢ ahmed: AED 1,000 (External)â”‚              â”‚         â”‚
â”‚          â”‚                 â”‚              â”‚              â”‚              â”‚              â”‚             â”‚ Total: AED 3,751,030         â”‚              â”‚         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ D026     â”‚ Downtown Office â”‚ test 1       â”‚ omar shahin  â”‚ Agent User   â”‚ AED          â”‚ AED 3,000   â”‚ Main: AED 1                  â”‚ Submitted    â”‚ [View]  â”‚
â”‚          â”‚ ABC Developers  â”‚              â”‚              â”‚              â”‚ 1,500,000    â”‚             â”‚ [Expected]                   â”‚              â”‚         â”‚
â”‚          â”‚                 â”‚              â”‚              â”‚              â”‚              â”‚             â”‚ Total: AED 30                â”‚              â”‚         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ D022     â”‚ Downtown Office â”‚ Moataz       â”‚ Elsayed      â”‚ Agent User   â”‚ AED          â”‚ AED 62,500  â”‚ Main: AED 1,000              â”‚ Finance      â”‚ [View]  â”‚
â”‚          â”‚ ABC Developers  â”‚ Elhefny      â”‚ Elagalad     â”‚              â”‚ 1,250,000    â”‚             â”‚ [Partially Paid]             â”‚ Review       â”‚ [Edit]  â”‚
â”‚          â”‚                 â”‚              â”‚              â”‚              â”‚              â”‚             â”‚ +1 additional agent          â”‚              â”‚         â”‚
â”‚          â”‚                 â”‚              â”‚              â”‚              â”‚              â”‚             â”‚ â€¢ Jane Agent: AED 20,000     â”‚              â”‚         â”‚
â”‚          â”‚                 â”‚              â”‚              â”‚              â”‚              â”‚             â”‚   (Internal)                 â”‚              â”‚         â”‚
â”‚          â”‚                 â”‚              â”‚              â”‚              â”‚              â”‚             â”‚ Total: AED 645,000           â”‚              â”‚         â”‚
â”‚          â”‚                 â”‚              â”‚              â”‚              â”‚              â”‚             â”‚ (Paid: AED 542)              â”‚              â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Column Details

### 1. Deal ID
- Shows the deal number (e.g., D027, D026)

### 2. Property
- Project name on first line
- Developer name on second line (smaller, gray text)

### 3. Buyer
- Buyer's full name

### 4. Seller â­ NEW
- Seller's full name
- Previously not displayed in the table

### 5. Agent
- Main agent's name

### 6. Price
- Deal value in AED with thousand separators

### 7. Commission
- Total deal commission (from `totalCommission.commissionValue`)
- This is the total commission for the deal, not just agent commission

### 8. Agent Commission â­ NEW (Detailed Breakdown)
This column shows comprehensive commission information:

#### Main Agent Section:
```
Main: AED 10,000
[Expected]  â† Status badge (color-coded)
```

#### Additional Agents Section (if any):
```
+2 additional agents
â€¢ Jane Agent: 30% (Internal)
â€¢ ahmed: AED 1,000 (External)
```

#### Total Summary:
```
Total: AED 3,751,030
(Paid: AED 542)  â† Only shown if payment made
```

### 9. Status
- Deal status badge (color-coded)
- Examples: Submitted, Finance Review, Closed

### 10. Actions
- View button (all roles)
- Edit/Collect/Transfer buttons (finance role)

## Status Badge Colors

### Commission Status:
- ğŸŸ¢ **Green** - Paid
- ğŸŸ  **Orange** - Partially Paid
- âš« **Gray** - Expected/Pending

### Deal Status:
- ğŸŸ¢ **Green** - Closed, Paid
- ğŸ”µ **Blue** - Transferred, Received, Approved
- ğŸŸ  **Orange** - Finance Review, Partially Paid
- ğŸŸ¡ **Yellow** - Submitted
- âš« **Gray** - Other statuses

## Real Data Example (from API response)

### Deal D027 with Multiple Additional Agents:
```json
{
  "dealNumber": "D027",
  "seller": {
    "name": "Elsayed Elagalad"
  },
  "agentCommissions": {
    "mainAgent": {
      "expectedAmount": 10000,
      "status": { "name": "Expected" }
    },
    "additionalAgents": [
      {
        "agent": { "name": "Jane Agent", "isInternal": true },
        "commissionType": { "name": "Percentage" },
        "commissionValue": 30,
        "isInternal": true
      },
      {
        "agent": { "name": "ahmed", "isInternal": false },
        "commissionType": { "name": "Fixed" },
        "commissionValue": 1000,
        "isInternal": false
      }
    ],
    "totalExpected": 3751030,
    "totalPaid": 0
  }
}
```

**Displays as:**
```
Seller: Elsayed Elagalad

Agent Commission:
  Main: AED 10,000
  [Expected]
  +2 additional agents
  â€¢ Jane Agent: 30% (Internal)
  â€¢ ahmed: AED 1,000 (External)
  Total: AED 3,751,030
```

### Deal D022 with Partial Payment:
```json
{
  "dealNumber": "D022",
  "seller": {
    "name": "Elsayed Elagalad"
  },
  "agentCommissions": {
    "mainAgent": {
      "expectedAmount": 1000,
      "paidAmount": 542,
      "status": { "name": "Partially Paid" }
    },
    "additionalAgents": [
      {
        "agent": { "name": "Jane Agent", "isInternal": true },
        "commissionType": { "name": "Override" },
        "commissionValue": 20000,
        "isInternal": true
      }
    ],
    "totalExpected": 645000,
    "totalPaid": 542
  }
}
```

**Displays as:**
```
Seller: Elsayed Elagalad

Agent Commission:
  Main: AED 1,000
  [Partially Paid]
  +1 additional agent
  â€¢ Jane Agent: AED 20,000 (Internal)
  Total: AED 645,000 (Paid: AED 542)
```

## Responsive Design

The table uses:
- `overflow-x-auto` for horizontal scrolling on smaller screens
- Consistent padding and spacing
- Dark mode support with appropriate color variants
- Clear visual hierarchy with font sizes and weights

## Key Features

1. âœ… Shows seller information (previously missing)
2. âœ… Detailed agent commission breakdown
3. âœ… Supports multiple additional agents
4. âœ… Distinguishes internal vs external agents
5. âœ… Shows both percentage and fixed commissions
6. âœ… Displays payment status with color coding
7. âœ… Shows total expected and paid amounts
8. âœ… Handles edge cases (no additional agents, missing data)
9. âœ… Maintains backward compatibility
10. âœ… Dark mode support


